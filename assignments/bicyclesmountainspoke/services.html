<!DOCTYPE html>
<html lang="en-us">
    <head>
        <meta charset="utf-8">
        <meta name="description" content="Mountain Spoke Services">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <title>Mountain Spoke Services</title>
        <link href="css/normalize.css" rel="stylesheet">
        <link href="css/small.css" rel="stylesheet">
        <link href="css/medium.css" rel="stylesheet">
        <link href="css/large.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css?family=Carter+One|Hind|Noto+Sans" rel="stylesheet">
        <script
                src="https://code.jquery.com/jquery-3.3.1.js"
                integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60="
                crossorigin="anonymous">
        </script>
    </head>

    <body>

        <header>
            <div id="header1" includefile="header.html"></div>
            <div>
                <button id="smallmenu" onclick="toggleMenu()">&#9776; MENU</button>
                <nav>
                    <ul id="primaryNav" class="hide">
                        <li><a href="home.html">Home</a></li>
                        <li><a href="adventuretours.html">Adventure tours</a></li>
                        <li><a href="event.html">Event</a></li>
                        <li><a href="sales.html">Sales</a></li>
                        <li class="active"><a href="services.html">Services</a></li>
                        <li><a href="contact.html">Contact us</a></li>
                    </ul>
                </nav>
            </div>
        </header>

        <main>
            <h1>The Mountain Spoke services.</h1>
            <section id="servicetable">

            </section>
        </main>

        <footer>
            <div includefile="upperfooter.html">
            </div>
            <div id="footer">
                <span includefile="lowerfooter.html">
                </span>
            </div>
        </footer>


        <script src="scripts/hamburger.js"></script>
        <script src="scripts/include.js"></script>
        <script>
            var section = document.getElementById('servicetable');
            var requestURL = 'data/servicesdata.json';
            var request = new XMLHttpRequest();
            request.open('GET', requestURL);
            request.responseType = 'json';
            request.send();
            request.onload = function() {
                var tableData = request.response;
                console.log(tableData);
                showTable(tableData);
            }
            function showTable(jsonObj) {
                var table = jsonObj['services'];



                    var myTable = document.createElement('table');


                    myTable.setAttribute("id", "table");

                section.appendChild(myTable);

                var myThead = document.createElement('thead');

                myTable.appendChild(myThead);
                var myTr1 = document.createElement('tr');

                myThead.appendChild(myTr1);
                var myTh1 = document.createElement('th');
                var myTh2 = document.createElement('th');
                var myTh3 = document.createElement('th');

                myTh1.textContent = ' # ';
                myTh2.textContent = ' Services ';
                myTh3.textContent = ' Prices ';

                myTr1.appendChild(myTh1);

                myTr1.appendChild(myTh2);

                myTr1.appendChild(myTh3);

                var myTbody = document.createElement('tbody');

                myTable.appendChild(myTbody);

                /*var myTr2 = document.createElement('tr');

                myTbody.appendChild(myTr2);

                var myTd1 = document.createElement('td');
                var myTd2 = document.createElement('td');

                myTd1.textContent = ' Services ';
                myTd2.textContent = ' Services ';

                myTr2.appendChild(myTd1);

                myTr2.appendChild(myTd2);*/

                for (var i = 0; i < table.length; i++) {

                    /*var myTr2 = document.createElement('tr');
                    var myTd1 = document.createElement('td');
                    var myTd2 = document.createElement('td');


                    myTd1.textContent = myTable[i].service;
                    myTd2.textContent = myTable[i].price;*/



                    var myTr2 = document.createElement('tr');

                    myTbody.appendChild(myTr2);

                    var myTd1 = document.createElement('td');
                    var myTd2 = document.createElement('td');
                    var myTd3 = document.createElement('td');

                    myTd1.textContent = table[i].item;
                    myTd2.textContent = table[i].service;
                    myTd3.textContent = table[i].price;

                    myTr2.appendChild(myTd1);

                    myTr2.appendChild(myTd2);

                    myTr2.appendChild(myTd3);




                    /*myTr2.appendChild(myTd1);

                    myTr2.appendChild(myTd2);

                    myTr1.appendChild(myTr2);*/
                }

            }
        </script>
        <!--
        <script>
            var section = document.getElementById('lowersection');
            var requestURL = 'https://byui-cit230.github.io/weather/data/towndata.json';
            var request = new XMLHttpRequest();
            request.open('GET', requestURL);
            request.responseType = 'json';
            request.send();
            request.onload = function() {
                var townData = request.response;
                console.log(townData);
                showTowns(townData);
            }
            function showTowns(jsonObj) {
                var towns = jsonObj['towns'];


                for (var i = 0; i < towns.length; i++) {
                    if (i === 2) { continue; }
                    var myDiv = document.createElement('div');
                    if (i==0 || i==3) {
                        myDiv.setAttribute("id", "divleft");
                    } /*else {
                        myDiv.setAttribute("id", "divright");
                    }*/
                    var myArticle = document.createElement('article');
                    var myH2 = document.createElement('h2');
                    var myPara1 = document.createElement('p');
                    var myPara2 = document.createElement('p');
                    var myPara3 = document.createElement('p');
                    var myPara4 = document.createElement('p');


                    myH2.textContent = towns[i].name;
                    myPara1.textContent = 'Motto: ' + towns[i].motto;
                    myPara2.textContent = 'Year founded: ' + towns[i].yearFounded;
                    myPara3.textContent = 'Population: ' + towns[i].currentPopulation;
                    myPara4.textContent = 'Annual Rainfall: ' + towns[i].averageRainfall;


                    myArticle.appendChild(myH2);

                    myArticle.appendChild(myPara1);

                    myArticle.appendChild(myPara2);

                    myArticle.appendChild(myPara3);

                    myArticle.appendChild(myPara4);

                    myDiv.appendChild(myArticle);

                    if (i==0){
                        var x = document.createElement("IMG");
                        x.setAttribute("src", "images/franklin.jpeg");

                        x.setAttribute("alt", "The Town of Franklin");
                        /* x.setAttribute("id", [i]);*/
                        myDiv.appendChild(x);


                    } else if (i==1) {
                        var x = document.createElement("IMG");
                        x.setAttribute("src", "images/greenville.jpeg");

                        x.setAttribute("alt", "The Town of Greenville");
                        /* x.setAttribute("id", [i]);*/
                        myDiv.appendChild(x);


                    } else {
                        var x = document.createElement("IMG");
                        x.setAttribute("src", "images/springfield.jpeg");

                        x.setAttribute("alt", "The Town of Springfield");
                        /* x.setAttribute("id", [i]);*/
                        myDiv.appendChild(x);


                    }

                    section.appendChild(myDiv);
                }

            }
        </script>
        -->
    </body>
</html>
